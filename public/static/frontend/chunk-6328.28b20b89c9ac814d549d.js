"use strict";(self.webpackChunkpixabay_frontend=self.webpackChunkpixabay_frontend||[]).push([[6328],{43291:function(e,t,n){n.d(t,{O:function(){return a}});var r=n(67294),o=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var o=0;for(r=Object.getOwnPropertySymbols(e);o<r.length;o++)t.indexOf(r[o])<0&&Object.prototype.propertyIsEnumerable.call(e,r[o])&&(n[r[o]]=e[r[o]])}return n};function a(e){var t=e.setOnce,n=void 0===t||t,a=e.ref,i=e.initialValue,l=void 0!==i&&i,c=o(e,["setOnce","ref","initialValue"]),u=(0,r.useState)(l),s=u[0],d=u[1];return(0,r.useEffect)((function(){var e=!!window.IntersectionObserver,t=null==a?void 0:a.current;if(!(n&&s||!e)&&t){var r=new IntersectionObserver((function(e){var t=e[0];d(t.isIntersecting),t.isIntersecting&&n&&r.unobserve(t.target)}),c);return r.observe(t),function(){r.disconnect()}}}),[a]),s}},37267:function(e,t,n){n.d(t,{a:function(){return c}});var r=n(60374),o=n(11495),a=n(59584),i=function(){return(i=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e}).apply(this,arguments)},l=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var o=0;for(r=Object.getOwnPropertySymbols(e);o<r.length;o++)t.indexOf(r[o])<0&&Object.prototype.propertyIsEnumerable.call(e,r[o])&&(n[r[o]]=e[r[o]])}return n};function c(){var e=(0,o.ph)(),t=e.useStore,n=l(e,["useStore"]),c=t((function(e){return(0,a.ei)(e,"user","followedUsers","isLiked","isCollected","isFollowing")}),r.Z),u=c.user,s=c.followedUsers,d=c.isLiked,f=c.isCollected,m=c.isFollowing;return i({user:u,followedUsers:s,isMediaLiked:d,isMediaCollected:f,isUserFollowed:m},n)}},16542:function(e,t,n){n.d(t,{O:function(){return a}});var r=n(60374),o=n(11495);function a(e,t){return(0,(0,o.ph)().useStore)((function(n){return{liked:n.isLiked(t,e),collected:n.isCollected(t,e)}}),r.Z)}},11495:function(e,t,n){n.d(t,{eH:function(){return k},ph:function(){return g}});var r=n(67294),o=n(69019),a=n(6494),i=n(83268),l=n(80398),c=n(47430),u=n(29565),s=n(18172),d=n(25244),f=function(){return(f=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e}).apply(this,arguments)},m=function(){return{animation:new Set,audio:new Set,photo:new Set,video:new Set,collection:new Set}};var p=function(e,t){var n=this;this.updateData=function(e){var t,r,o,a;n.storeHook.setState({user:e.request.user,likedMedia:v(e.request.likedMedia||[],(null===(t=e.request.user)||void 0===t?void 0:t.id)===(null===(r=n.storeHook.getState().user)||void 0===r?void 0:r.id)?n.storeHook.getState().likedMedia:m()),collectedMedia:v(e.request.collectedMedia||[],(null===(o=e.request.user)||void 0===o?void 0:o.id)===(null===(a=n.storeHook.getState().user)||void 0===a?void 0:a.id)?n.storeHook.getState().collectedMedia:m()),followedUsers:e.request.followedUsers||[]})},this.setMediaIsLiked=function(e,t,r){n.storeHook.getState().user&&n.storeHook.setState((function(n){return r?r&&n.likedMedia[t].add(e):n.likedMedia[t].delete(e),f({},n)}))},this.setMediaIsCollected=function(e,t,r){n.storeHook.getState().user&&n.storeHook.setState((function(n){return r?r&&n.collectedMedia[t].add(e):n.collectedMedia[t].delete(e),f({},n)}))},this.setFollowingUser=function(e,t){n.storeHook.getState().user&&n.storeHook.setState((0,s.ZP)((function(n){var r=n.followedUsers.indexOf(e);!t&&r>=0?n.followedUsers.splice(r,1):t&&!n.followedUsers.includes(e)&&n.followedUsers.push(e)})))},this.setUser=function(e){n.storeHook.setState({user:e,likedMedia:m(),collectedMedia:m()})},this.hasPermission=function(e){var t=n.storeHook.getState().user;return!!t&&(t.isSuperuser||t.permissions.includes(e))},this.storeHook=e};function v(e,t){return e.forEach((function(e){var n=function(e){var t=parseInt(e.substring(1),10),n=e[0];switch(n){case u.e9.photo:return["photo",t];case u.e9.animation:return["animation",t];case u.e9.audio:return["audio",t];case u.e9.video:return["video",t];case u.e9.collection:return["collection",t];default:throw new Error("Invalid media type key prefix ".concat(n," provided"))}}(e),r=n[0],o=n[1];t[r].add(o)})),t}var h=Symbol("user"),k=(0,r.memo)((function(e){var t,n,r,l,u=e.likedMedia,s=void 0===u?[]:u,f=e.collectedMedia,k=void 0===f?[]:f,g=e.followedIds,y=void 0===g?[]:g,w=(0,a.p)(),b=(t=w.user,void 0===(n=s)&&(n=[]),void 0===(r=k)&&(r=[]),void 0===(l=y)&&(l=[]),(0,d.d$)((function(e,o){return{user:t,likedMedia:v(n,m()),collectedMedia:v(r,m()),followedUsers:l,isLiked:function(e,t){return o().likedMedia[t].has(e)},isCollected:function(e,t){return o().collectedMedia[t].has(e)},isFollowing:function(e){return o().followedUsers.includes(e)}}}),"UserStore")),C=function(e,t){return(0,c.A)((function(){return new p(e,t)})).current}(b,w);return(0,i.s)(h,(function(){return{useStore:b,setMediaIsLiked:C.setMediaIsLiked,setMediaIsCollected:C.setMediaIsCollected,setFollowingUser:C.setFollowingUser,setUser:C.setUser,hasPermission:C.hasPermission,updateData:C.updateData}})),(0,o.gb)(C.updateData),null}));function g(){return(0,l.G)(h)}},84939:function(e,t,n){n.d(t,{Im:function(){return l},wS:function(){return a}});var r=n(38823),o=n(47430),a=(0,r.ZP)((function(){return{media:void 0}})),i=function(){this.showAttributionForMediaListItem=function(e){a.setState({media:{mediaType:e.mediaType,mediaDescriptiveType:e.mediaDescriptiveType,mediaSubType:e.mediaSubType,mediaId:e.id,contentIdCertificateUrl:e.contentIdCertificateUrl,attributionHtml:e.attributionHtml||"",user:e.user}})},this.hideModal=function(){a.setState({},!0)}};function l(){return(0,o.A)((function(){return new i})).current}},46807:function(e,t,n){n.d(t,{rN:function(){return Y},S:function(){return K},qy:function(){return $}});var r=n(67294),o=n(18172),a=n(40242),i=n(25244),l=n(47430),c=n(59584),u=n(41027),s=n(2643),d=n(16353),f=function(){function e(e){this.isConnected=!1,this.audioElement=e,this.audioCtx=new window.AudioContext,this.sourceNode=this.audioCtx.createMediaElementSource(e),this.gainNode=this.audioCtx.createGain(),this.connect()}return e.prototype.connect=function(){this.sourceNode.connect(this.gainNode).connect(this.audioCtx.destination),this.isConnected=!0},e.prototype.disconnect=function(){this.sourceNode.disconnect(this.gainNode),this.gainNode.disconnect(this.audioCtx.destination),this.isConnected=!1},e.prototype.getIsConnected=function(){return this.isConnected},e.prototype.setGain=function(e){this.gainNode.gain.value=e},e.prototype.reduceVolume=function(e){this.gainNode.gain.value-=e},e.prototype.increaseVolume=function(e){this.gainNode.gain.value+=e},e.prototype.getGain=function(){return this.gainNode.gain.value},e.prototype.play=function(){this.audioElement.play().catch((function(e){}))},e.prototype.pause=function(){this.audioElement.pause()},e.prototype.reset=function(){this.audioElement.pause(),this.audioElement.currentTime=0},e.prototype.canSeek=function(){return this.audioElement.readyState>=HTMLMediaElement.HAVE_METADATA},e.prototype.seek=function(e){this.audioElement.currentTime=this.audioElement.duration*e},e.prototype.getAudioElement=function(){return this.audioElement},e}(),m=function(e,t,n,r){return new(n||(n=Promise))((function(o,a){function i(e){try{c(r.next(e))}catch(e){a(e)}}function l(e){try{c(r.throw(e))}catch(e){a(e)}}function c(e){var t;e.done?o(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(i,l)}c((r=r.apply(e,t||[])).next())}))},p=function(e,t){var n,r,o,a,i={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return a={next:l(0),throw:l(1),return:l(2)},"function"==typeof Symbol&&(a[Symbol.iterator]=function(){return this}),a;function l(a){return function(l){return function(a){if(n)throw new TypeError("Generator is already executing.");for(;i;)try{if(n=1,r&&(o=2&a[0]?r.return:a[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,a[1])).done)return o;switch(r=0,o&&(a=[2&a[0],o.value]),a[0]){case 0:case 1:o=a;break;case 4:return i.label++,{value:a[1],done:!1};case 5:i.label++,r=a[1],a=[0];continue;case 7:a=i.ops.pop(),i.trys.pop();continue;default:if(!(o=i.trys,(o=o.length>0&&o[o.length-1])||6!==a[0]&&2!==a[0])){i=0;continue}if(3===a[0]&&(!o||a[1]>o[0]&&a[1]<o[3])){i.label=a[1];break}if(6===a[0]&&i.label<o[1]){i.label=o[1],o=a;break}if(o&&i.label<o[2]){i.label=o[2],i.ops.push(a);break}o[2]&&i.ops.pop(),i.trys.pop();continue}a=t.call(e,i)}catch(e){a=[6,e],r=0}finally{n=o=0}if(5&a[0])throw a[1];return{value:a[0]?a[1]:void 0,done:!0}}([a,l])}}};var v=function(){function e(e){var t=this;this.isCurrentTrack=function(e){var n;return(null===(n=t.storeHook.getState().currentTrack)||void 0===n?void 0:n.id)===e},this.setupEventHandlers=function(e,n){if(n.addEventListener("loadstart",(function(){t.setStatusIfCurrentTrack(e,"loading")})),n.addEventListener("play",(function(){t.setStatusIfCurrentTrack(e,"playing");var n=t.audioPlayers[e];n.getIsConnected()||n.connect()})),n.addEventListener("playing",(function(){t.setStatusIfCurrentTrack(e,"playing")})),n.addEventListener("pause",(function(){t.setStatusIfCurrentTrack(e,"paused");var n=t.audioPlayers[e];n.getIsConnected()&&n.disconnect()})),n.addEventListener("timeupdate",(function(){t.isCurrentTrack(e)&&!isNaN(n.duration)&&t.storeHook.setState({progressAmount:n.currentTime/n.duration})})),"playlist"===t.storeHook.getState().playbackType){n.addEventListener("ended",(function(){if(t.isCurrentTrack(e)){var n=t.storeHook.getState(),r=n.currentTrack;if(n.repeatEnabled){if(void 0===r)return;t.playTrack(r)}else t.skipForward()}}));var r=function(){if(t.isCurrentTrack(e)){var o=t.storeHook.getState(),i=o.volumeAmount;if(o.crossfadeEnabled&&n.duration-n.currentTime<=a._Z){n.removeEventListener("timeupdate",r);var l=t.audioPlayers[e],c=t.startNextTrack();if(!l||!c)return;t.crossfade(l,c,i,a._Z)}}};n.addEventListener("timeupdate",r)}},this.crossfade=function(e,t,n,r){void 0===n&&(n=1),void 0===r&&(r=10);var o=n/100,a=setInterval((function(){e.getGain()>0&&e.setGain(e.getGain()-o),t.getGain()<1&&t.setGain(t.getGain()+o),e.getGain()<=0&&t.getGain()>=n&&clearInterval(a)}),1e3*r/100)},this.startNextTrack=function(){var e=t.storeHook.getState(),n=e.orderIndex,r=e.playOrder,o=e.repeatEnabled;if(void 0===n||o)return null;var a=(n+1)%r.length,i=t.storeHook.getState().playlistTracks[r[a]];if(!i)return null;var l=t.findOrCreateAudioPlayer(i.id,i.sources.src);return l.setGain(0),l.play(),d._q.musicPlayed(i.id),d._q.mediaPlayed(i.mediaType,i.mediaDescriptiveType,i.id,i.user.id),t.storeHook.setState((function(){return{currentTrack:i,progressAmount:0,orderIndex:a}})),l},this.createAudioElement=function(e,n){var r=new Audio(n);return r.crossOrigin="anonymous",document.body.append(r),t.setupEventHandlers(e,r),r},this.findOrCreateAudioPlayer=function(e,n){var r=t.audioPlayers;if(r[e])return r[e];var o=t.createAudioElement(e,n),a=new f(o);return t.audioPlayers[e]=a,a},this.playTrack=function(e){var n=t.storeHook.getState().volumeAmount,r=t.findOrCreateAudioPlayer(e.id,e.sources.src);r.setGain(n),r.play(),d._q.musicPlayed(e.id),d._q.mediaPlayed(e.mediaType,e.mediaDescriptiveType,e.id,e.user.id)},this.pauseTrack=function(){var e=t.storeHook.getState().currentTrack;e&&t.findOrCreateAudioPlayer(e.id,e.sources.src).pause()},this.executePlayPauseTrack=function(e,n){var r=t.storeHook.getState(),o=r.currentTrack,a=r.currentPlaylistId,i=r.status;e.id===(null==o?void 0:o.id)&&n===a?"paused"===i?t.playTrack(e):t.pauseTrack():(t.resetCurrentTrack(),t.playTrack(e))},this.resetCurrentTrack=function(){var e=t.storeHook.getState().currentTrack;e&&t.findOrCreateAudioPlayer(e.id,e.sources.src).reset()},this.getOrderIndex=function(e,t,n){var r=n.findIndex((function(t){return e.id===t.id}));return t.findIndex((function(e){return e===r}))},this.getSequentialPlayOrder=function(e){for(var t=[],n=0;n<e;n++)t.push(n);return t},this.getShuffledPlayOrder=function(e){for(var t=[],n=0;n<e;n++)t.push(n);for(var r,o,a=e;0!==a;)o=Math.floor(Math.random()*a),r=t[a-=1],t[a]=t[o],t[o]=r;return t},this.getAdjTrackAndIndex=function(e,t,n,r){void 0===r&&(r=!0);var o=(0,c.Yr)((function(){return r?(e+1)%t.length:(e-1+t.length)%t.length}));return{adjTrack:n[t[o]],newOrderIndex:o}},this.preloadAdjTracks=function(e,n,r){var o=t.getAdjTrackAndIndex(e,n,r).adjTrack;t.findOrCreateAudioPlayer(o.id,o.sources.src);var a=t.getAdjTrackAndIndex(e,n,r,!1).adjTrack;t.findOrCreateAudioPlayer(a.id,a.sources.src)},this.resetTrack=function(){t.resetCurrentTrack(),t.storeHook.setState((0,o.Uy)((function(e){e.currentTrack=void 0})))},this.playPauseTrack=function(e){t.executePlayPauseTrack(e);var n=t.storeHook.getState().currentTrack;e.id!==(null==n?void 0:n.id)&&t.storeHook.setState((0,o.Uy)((function(t){t.currentTrack=e,t.progressAmount=0})))},this.seekTrack=function(e,n){var r=t.storeHook.getState(),a=r.currentTrack,i=r.volumeAmount;e.id===(null==a?void 0:a.id)?t.storeHook.setState({progressAmount:n}):(t.resetCurrentTrack(),t.storeHook.setState((0,o.Uy)((function(t){t.currentTrack=e,t.progressAmount=n}))));var l=t.findOrCreateAudioPlayer(e.id,e.sources.src);l.canSeek()?(l.setGain(i),l.seek(n),l.play()):l.getAudioElement().addEventListener("loadedmetadata",(function(){t.isCurrentTrack(e.id)&&(l.setGain(t.storeHook.getState().volumeAmount),l.seek(n),l.play())}))},this.setVolume=function(e){var n=t.storeHook.getState().currentTrack;if(n){var r=Math.min(Math.max(e,a.Ak),a.wT);t.findOrCreateAudioPlayer(n.id,n.sources.src).setGain(r),t.storeHook.setState((function(){return{volumeAmount:r}}))}},this.toggleVolume=function(){var e,n,r=t.storeHook.getState(),o=r.currentTrack,i=r.volumeAmount;o&&(i===a.Ak?(e=t.prevVolumeAmount,n=a.Ak):(n=i,e=a.Ak),t.prevVolumeAmount=n,t.findOrCreateAudioPlayer(o.id,o.sources.src).setGain(e),t.storeHook.setState((function(){return{volumeAmount:e}})))},this.playPausePlaylist=function(e,n,r){var a=t.storeHook.getState(),i=a.currentTrack,l=a.currentPlaylistId,c=a.playOrder,u=a.playlistTracks,s=a.status;if(t.executePlayPauseTrack(n,e),e===l?"paused"===s?(d._q.playlistPlay(e),d._q.playlistInteracted(e,"started")):n.id===(null==i?void 0:i.id)&&(d._q.playlistPause(e),d._q.playlistInteracted(e,"paused")):(l&&"playing"===s&&(d._q.playlistPause(l),d._q.playlistInteracted(l,"paused")),d._q.playlistPlay(e),d._q.playlistInteracted(e,"started")),l===e){if(n.id!==(null==i?void 0:i.id)){var f=t.getOrderIndex(n,c,u);t.preloadAdjTracks(f,c,u),t.storeHook.setState((0,o.Uy)((function(e){e.currentTrack=n,e.progressAmount=0,e.orderIndex=f})))}}else{var m=t.getSequentialPlayOrder(r.length),p=t.getOrderIndex(n,m,r);t.preloadAdjTracks(p,m,r),t.storeHook.setState((0,o.Uy)((function(t){t.currentPlaylistId=e,t.playlistTracks=r,t.currentTrack=n,t.progressAmount=0,t.orderIndex=p,t.playOrder=m})))}},this.shufflePlaylist=function(e,n){var r=t.storeHook.getState().currentPlaylistId,o=t.getShuffledPlayOrder(n.length),a=n[o[0]];t.resetCurrentTrack(),t.playTrack(a),t.preloadAdjTracks(0,o,n),r===e?t.storeHook.setState((function(){return{progressAmount:0,currentTrack:a,shuffleEnabled:!0,orderIndex:0,playOrder:o}})):t.storeHook.setState((function(){return{progressAmount:0,currentPlaylistId:e,playlistTracks:n,currentTrack:a,shuffleEnabled:!0,orderIndex:0,playOrder:o}}))},this.fetchPlaylistBootstrap=function(e,n,r){return m(t,void 0,void 0,(function(){var t;return p(this,(function(o){switch(o.label){case 0:return t=u.nB.playlistShow({lang:e,title:n,id:r.toString()}),[4,(0,s.z)(t)];case 1:return[2,o.sent()]}}))}))},this.skipBackward=function(){var e=t.storeHook.getState(),n=e.orderIndex,r=e.playOrder,o=e.playlistTracks;if(void 0!==n){var a=t.getAdjTrackAndIndex(n,r,o,!1),i=a.adjTrack,l=a.newOrderIndex;t.resetCurrentTrack(),t.playTrack(i),t.preloadAdjTracks(l,r,o),t.storeHook.setState((function(){return{currentTrack:i,progressAmount:0,orderIndex:l}}))}},this.skipForward=function(){var e=t.storeHook.getState(),n=e.orderIndex,r=e.playOrder,o=e.playlistTracks;if(void 0!==n){var a=t.getAdjTrackAndIndex(n,r,o),i=a.adjTrack,l=a.newOrderIndex;t.resetCurrentTrack(),t.playTrack(i),t.preloadAdjTracks(l,r,o),t.storeHook.setState((function(){return{currentTrack:i,progressAmount:0,orderIndex:l}}))}},this.toggleRepeatMode=function(){t.storeHook.setState((function(e){return{repeatEnabled:!e.repeatEnabled}}))},this.toggleShuffleMode=function(){var e=t.storeHook.getState(),n=e.currentTrack,r=e.playlistTracks,o=e.shuffleEnabled;if(n){var a=(0,c.Yr)((function(){return o?t.getSequentialPlayOrder(r.length):t.getShuffledPlayOrder(r.length)})),i=r.findIndex((function(e){return n.id===e.id})),l=a.findIndex((function(e){return e===i}));t.storeHook.setState((function(e){return{shuffleEnabled:!e.shuffleEnabled,orderIndex:l,playOrder:a}}))}},this.toggleCrossfadeMode=function(){t.storeHook.setState((function(e){return{crossfadeEnabled:!e.crossfadeEnabled}}))},this.storeHook=e,this.audioPlayers={},this.prevVolumeAmount=a.wT}return e.prototype.setStatusIfCurrentTrack=function(e,t){this.isCurrentTrack(e)&&this.storeHook.setState({status:t})},e}();var h=n(83268),k=n(80398),g=n(60374),y=n(47480),w=n(80581),b=n(63651),C=n(74742),E=n(35761),S=n(93937),T=n(13212),A=n(94184),I=n.n(A),N=n(73204),P=n(89843),Z=n(18806),O=n(19636),x=n(51499),L=n(57430),M=(0,r.memo)((function(e){var t,n,o=e.breakpoint,i=e.audio,c=e.progressFraction,u=e.volumeFraction,s=e.playbackStatus,d=e.shuffleEnabled,f=e.repeatEnabled,m=e.userId,p=e.liked,v=e.likeCount,h=e.collected,k=e.onProgressSeek,g=e.onSkipBackwardClick,A=e.onSkipForwardClick,M=e.onShuffleModeToggle,B=e.onRepeatModeToggle,H=e.onPlayPauseClick,D=e.onVolumeChange,U=e.onVolumeToggle,_=e.onLikeClick,j=e.onCollectClick,q=e.onDownloadClick,F=e.i18n,R=i.duration||0,V=(0,r.useState)(!1),G=V[0],z=V[1],J=(0,r.useState)(0),Q=J[0],W=J[1],X=(0,r.useRef)(null),Y=G?Q:c*R,K=(0,r.useCallback)((function(e){W(Number(e.target.value))}),[]),$=(0,r.useCallback)((function(){z(!1),i.duration&&X.current&&k(Number(X.current.value)/i.duration)}),[i.duration,k]),ee=(0,r.useCallback)((function(){z(!0)}),[]),te=(0,l.T)((function(){return{playing:F.pauseAudio,paused:F.playAudio,loading:F.pauseAudio}}));return(0,r.useEffect)((function(){return G&&(window.addEventListener("mouseup",$),window.addEventListener("touchend",$)),function(){window.removeEventListener("mouseup",$),window.removeEventListener("touchend",$)}}),[$,G]),r.createElement("div",{className:y.Z.container},r.createElement("div",{className:y.Z.seekBarContainer},r.createElement("div",{className:y.Z.progressIndicator,style:{width:"".concat(Math.round(Y/a.I8)/R*a.I8*100,"%")}}),r.createElement("input",{type:"range",ref:X,"aria-label":F.seekAudio,min:a.gW,max:R,step:a.I8,value:Y,onChange:K,onMouseDown:ee,onTouchStart:ee})),r.createElement("div",{className:y.Z.playerContainer},r.createElement("div",{className:y.Z.infoSection},r.createElement(w.a,{url:i.sources.thumbnailUrl,theme:"dark",size:"playlistSize",audioSubType:i.mediaSubType}),r.createElement("div",{className:y.Z.audioInfo},r.createElement("div",{className:y.Z.titleTimeContainer},r.createElement("a",{className:y.Z.title,href:i.href},i.name),r.createElement("span",{className:y.Z.seperator}),r.createElement("span",{className:y.Z.timeStatus},i.duration&&(0,b.p)(Y)," /"," ",i.duration&&(0,b.p)(i.duration))),r.createElement("a",{className:y.Z.artist,href:i.user.profileUrl},i.user.username))),r.createElement("div",{className:y.Z.playbackControlSection},r.createElement(x.u,{placement:"bottom",showArrow:!1,small:!0,content:F.toggleShuffleMode,triggerWrapperClassName:y.Z.shuffleButton},r.createElement("button",{className:I()((t={},t[y.Z.active]=d,t)),"aria-label":F.toggleShuffleMode,onClick:M},r.createElement(T.J,{kind:"shuffle"}))),r.createElement(x.u,{placement:"bottom",showArrow:!1,small:!0,content:F.skipBackward,triggerWrapperClassName:y.Z.skipButton},r.createElement("button",{"aria-label":F.skipBackward,onClick:g},r.createElement(T.J,{kind:"back"}))),r.createElement(x.u,{placement:"bottom",showArrow:!1,small:!0,content:te[s],triggerWrapperClassName:y.Z.playPauseButton},r.createElement(S.x,{theme:"playlist",status:s,onClick:H,i18n:te})),r.createElement(x.u,{placement:"bottom",showArrow:!1,small:!0,content:F.skipForward,triggerWrapperClassName:y.Z.skipButton},r.createElement("button",{"aria-label":F.skipForward,onClick:A},r.createElement(T.J,{kind:"forward"}))),r.createElement(x.u,{placement:"bottom",showArrow:!1,small:!0,content:F.toggleRepeatMode,triggerWrapperClassName:y.Z.repeatButton},r.createElement("button",{className:I()((n={},n[y.Z.active]=f,n)),"aria-label":F.toggleRepeatMode,onClick:B},r.createElement(T.J,{kind:"repeat"})))),r.createElement("div",{className:y.Z.interactionSection},r.createElement(C.R,{className:y.Z.volumeControl,volumeAmount:u,i18n:(0,l.T)((function(){return{volume:F.volumeControl}})),onChange:D,onVolumeToggle:U}),r.createElement(x.u,{placement:"bottom",showArrow:!1,small:!0,content:F.collectAudio,triggerWrapperClassName:y.Z.engagementButton},r.createElement(E.Oo,{active:h,"aria-label":F.collectAudio,onClick:j,theme:"dark",kind:"bookmark"})),r.createElement(x.u,{placement:"bottom",showArrow:!1,small:!0,content:F.likeAudio,triggerWrapperClassName:y.Z.likeButton},r.createElement(O.d,{theme:"dark",label:F.likeAudio,isLiked:p,likeCount:v,onLikeClicked:_})),r.createElement(x.u,{placement:"bottom",showArrow:!1,small:!0,content:F.downloadAudio,triggerWrapperClassName:y.Z.downloadButton},r.createElement(E.Oo,{"aria-label":F.downloadAudio,onClick:q,theme:"dark",kind:"download"})),"sm"===o&&r.createElement(N.A,{trackDetails:r.createElement(P.z,{playing:"paused"!==s,thumbnail:r.createElement(w.a,{url:i.sources.thumbnailUrl,theme:"light",size:"regular",audioSubType:i.mediaSubType}),name:i.name,href:i.href,username:i.user.username,profileUrl:i.user.profileUrl,duration:(0,b.p)(i.duration||0),nsfw:i.nsfw}),trackFeatures:r.createElement(Z.d,{duration:(0,b.p)(i.duration||0),contentIdRegistered:!!i.contentIdCertificateUrl,mediaQualityStatusIcon:r.createElement(L.$,{placement:"bottom",theme:"light",showArrow:!1,small:!0,mediaItem:i,isContributorOfMedia:m===i.user.id}),i18n:{contentIdRegistered:F.contentIdRegistered,contentIdTooltip:F.contentIdTooltip}}),i18n:{trackDetails:F.trackDetails,download:F.downloadAudio},collected:h,triggerClassname:y.Z.mobileMenuButton,onCollect:j,onDownload:q,likeButton:r.createElement(O.d,{isLiked:p,likeCount:v,onLikeClicked:_})}))))})),B=n(16542),H=n(6494),D=n(9108),U=n(10499),_=n(69274),j=n(20774),q=n(82399),F=n(34560),R=(0,r.memo)((function(e){var t=e.track,n=(0,q.Q)().translator.translate,o=K(),a=o.useStore((function(e){return(0,c.ei)(e,"status","progressAmount","volumeAmount","shuffleEnabled","repeatEnabled","currentPlaylistId","playlistTracks")}),g.Z),i=a.status,l=a.progressAmount,s=a.volumeAmount,f=a.shuffleEnabled,m=a.repeatEnabled,p=a.currentPlaylistId,v=a.playlistTracks,h=(0,B.O)(t.mediaType,t.id),k=h.collected,y=h.liked,w=(0,H.p)((function(e){return(0,c.ei)(e,"language","user")}),g.Z),b=w.language,C=w.user,E=(0,r.useCallback)((function(e){o.seekTrack(t,e)}),[o,t]),S=(0,r.useCallback)((function(){p&&o.playPausePlaylist(p,t,v)}),[o,p,v,t]),T=(0,U.o)(t),A=(0,_.v)(t,t.sources.downloadUrl,"audio-playlist"),I=(0,D.y)(t),N=(0,F.t)(t.id,t.mediaType,t.likeCount,I),P=N.likeCount,Z=N.onLikeClick;return(0,r.useEffect)((function(){if(p&&"playing"===i&&"undefined"!=typeof window&&window){var e=function(){d._q.playlistInteracted(p,"paused")};return window.addEventListener("beforeunload",e),function(){window.removeEventListener("beforeunload",e)}}}),[p,i]),r.createElement(M,{breakpoint:(0,j.kM)(),audio:t,progressFraction:l,volumeFraction:s,playbackStatus:i,shuffleEnabled:f,repeatEnabled:m,userId:null==C?void 0:C.id,liked:y,likeCount:P,collected:k,onProgressSeek:E,onSkipBackwardClick:o.skipBackward,onSkipForwardClick:o.skipForward,onShuffleModeToggle:o.toggleShuffleMode,onRepeatModeToggle:o.toggleRepeatMode,onPlayPauseClick:S,onVolumeToggle:o.toggleVolume,onVolumeChange:o.setVolume,onLikeClick:Z,onCollectClick:T,onDownloadClick:A,i18n:{seekAudio:n("Playback seek slider")(),skipBackward:n("Previous")(),skipForward:n("Next")(),toggleShuffleMode:n("Shuffle")(),toggleRepeatMode:n("Repeat")(),playAudio:n("Play")(),pauseAudio:n("Pause")(),volumeControl:n("Control volume")(),collectAudio:n("Add to collection")(),likeAudio:n("Like")(),downloadAudio:n("Download")(),trackDetails:n("Track details")(),contentIdRegistered:n("Content ID Registered")(),contentIdTooltip:n('Content ID is a digital fingerprinting system developed by Google. It can be used by content creators to easily identify and manage copyrighted content on YouTube. <a target="_blank" href=%s>Learn more</a> to find out how this may impact how you use this track.')(u.Ag.youtubeContentId(b))}})})),V=n(12704),G=n(37046),z=r.memo((function(e){var t,n,o,i=e.control,l=e.thumbnail,c=e.waveform,u=e.track,s=e.liked,d=e.collected,f=e.showLikeButton,m=e.showCollectButton,p=e.progressAmount,v=e.volumeAmount,h=e.onLikeClick,k=e.onCollectClick,g=e.onDownloadClick,y=e.onInputEvent,w=e.onVolumeToggle,S=e.i18n,A=(0,r.useState)(!1),N=A[0],P=A[1];return(0,r.useEffect)((function(){"undefined"!=typeof window&&(N?window.document.body.classList.add("audio-playback-collapsed"):window.document.body.classList.remove("audio-playback-collapsed"))}),[N]),r.createElement("div",{className:V.Z.container,"data-target":""},r.createElement("div",{className:V.Z.toggle,onClick:(0,r.useCallback)((function(){return P((function(e){return!e}))}),[])},r.createElement(x.u,{placement:"top",content:N?S.expand:S.minimise,showArrow:!1,small:!0,className:V.Z.tooltip,displayOnMobile:!1},r.createElement("button",null,r.createElement(T.J,{kind:"chevron-d",className:I()(V.Z.toggleIcon,(t={},t[V.Z.collapsed]=N,t))})))),r.createElement("div",{className:I()(V.Z.barContainer,(n={},n[V.Z.collapsed]=N,n))},r.createElement("div",{className:V.Z.bar},r.createElement("div",{className:I()(V.Z.section,V.Z.left)},i,l,r.createElement("div",{className:V.Z.title},r.createElement("a",{className:V.Z.name,href:u.href},u.name),r.createElement("a",{className:V.Z.artist,href:u.user.profileUrl},u.user.username))),r.createElement("div",{className:I()(V.Z.section,V.Z.middle)},r.createElement("div",{className:V.Z.elapsed},r.createElement("span",null,u.duration&&(0,b.p)(u.duration*p))),r.createElement("div",{className:V.Z.waveform},c),r.createElement("div",{className:V.Z.duration},r.createElement("span",null,u.duration&&(0,b.p)(u.duration)))),r.createElement("div",{className:I()(V.Z.section,V.Z.right)},r.createElement(C.R,{className:V.Z.volume,volumeAmount:v,i18n:S,onChange:y,onVolumeToggle:w}),f&&r.createElement(x.u,{placement:"top",content:S.like,showArrow:!1,small:!0,className:V.Z.tooltip},r.createElement(E.Oo,{className:I()(a.Yh.engagement.like,V.Z.like),active:s,"aria-label":S.like,onClick:h,theme:"dark",kind:"heart"})),m&&r.createElement(x.u,{placement:"top",content:S.addToCollection,showArrow:!1,small:!0,className:V.Z.tooltip},r.createElement(E.Oo,{className:I()(a.Yh.engagement.collect,V.Z.collect),active:d,"aria-label":S.addToCollection,onClick:k,theme:"dark",kind:"bookmark"})),r.createElement("div",{className:I()(V.Z.download,a.Yh.engagement.download),"aria-label":S.download,onClick:g},r.createElement(E.kq,{theme:"dark"},r.createElement("span",{className:V.Z.text},S.download),r.createElement(T.J,{kind:"download",className:V.Z.downloadIcon})))))),r.createElement("div",{className:I()(V.Z.progress,(o={},o[V.Z.hidden]=!N,o))},r.createElement(G.E,{progress:p})))})),J=n(3332),Q=function(e){var t=e.track,n=e.showLikeButton,o=e.showCollectButton,a=(0,q.Q)().translator.translate,i=K(),l=i.useStore((function(e){return(0,c.ei)(e,"status","progressAmount","volumeAmount")}),g.Z),u=l.status,s=l.progressAmount,d=l.volumeAmount,f=(0,r.useCallback)((function(e){i.seekTrack(t,e)}),[i,t]),m=(0,r.useCallback)((function(){i.playPauseTrack(t)}),[i,t]),p=(0,B.O)(t.mediaType,t.id),v=p.liked,h=p.collected,k=(0,D.y)(t),y=(0,U.o)(t),b=(0,_.v)(t,t.sources.downloadUrl,"audio-playback-bar"),C=(0,j.kM)();return t&&r.createElement(z,{control:r.createElement(S.x,{theme:"dark",status:u,onClick:m,i18n:{playing:a("Pause")(),paused:a("Play")(),loading:a("Loading")()}}),thumbnail:r.createElement(w.a,{url:t.sources.thumbnailUrl,theme:"dark",size:"sm"===C?"small":"regular",audioSubType:t.mediaSubType}),waveform:r.createElement(J.Q,{progressAmount:s,trackId:t.id,waveformUrl:t.sources.waveformUrl,onAudioSeek:f,theme:"dark"}),track:t,liked:v,collected:h,showLikeButton:n,showCollectButton:o,progressAmount:s,volumeAmount:d,onVolumeToggle:i.toggleVolume,onInputEvent:i.setVolume,onLikeClick:k,onCollectClick:y,onDownloadClick:b,i18n:{download:a("Download")(),like:a("Like")(),addToCollection:a("Add to collection")(),volume:a("Control volume")(),expand:a("Expand")(),minimise:a("Minimize")()}})},W=function(){return(W=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e}).apply(this,arguments)},X=Symbol("audio_playback"),Y=(0,r.memo)((function(e){var t=e.playbackType,n=void 0===t?"singleAudio":t,o=e.showLikeButton,c=void 0===o||o,u=e.showCollectButton,s=function(e){var t=e.playbackType,n=e.showLikeButton,r=e.showCollectButton;return(0,i.d$)((function(e,o){return{playbackType:t,showLikeButton:n,showCollectButton:r,currentTrack:void 0,status:"paused",progressAmount:0,volumeAmount:a.wT,getStatus:function(e){var t;return e===(null===(t=o().currentTrack)||void 0===t?void 0:t.id)?o().status:"paused"},getProgressAmount:function(e){var t;return e===(null===(t=o().currentTrack)||void 0===t?void 0:t.id)?o().progressAmount:0},repeatEnabled:!1,shuffleEnabled:!1,crossfadeEnabled:!0,playlistTracks:[],playOrder:[],orderIndex:void 0,currentPlaylistId:void 0,getPlaylistStatus:function(e){return e===o().currentPlaylistId?o().status:"paused"},getPlaylistTrackStatus:function(e,t){var n;return e===o().currentPlaylistId&&t===(null===(n=o().currentTrack)||void 0===n?void 0:n.id)?o().status:"paused"}}}),"audio-playback")}({playbackType:n,showLikeButton:c,showCollectButton:void 0===u||u}),d=function(e){return(0,l.A)((function(){return new v(e)})).current}(s);(0,h.s)(X,(function(){return W(W({},d),{useStore:s})}));var f=s((function(e){return{currentTrack:e.currentTrack,currentPlaybackType:e.playbackType,currentShowLikeButton:e.showLikeButton,currentShowCollectButton:e.showCollectButton}}),g.Z),m=f.currentTrack,p=f.currentPlaybackType,k=f.currentShowLikeButton,y=f.currentShowCollectButton;if(!m)return"undefined"!=typeof window&&window.document.body.classList.remove("audio-playback"),null;switch("undefined"!=typeof window&&window.document.body.classList.add("audio-playback"),p){case"playlist":return r.createElement(R,{track:m});case"singleAudio":return r.createElement(Q,{track:m,showLikeButton:k,showCollectButton:y});default:return null}}));function K(){return(0,k.G)(X)}function $(e,t,n){var o=K();return{handleAudioSeek:(0,r.useCallback)((function(r){e.nsfw&&""===n&&t?t():o.seekTrack(e,r)}),[o,e,n,t]),handlePlayPauseClick:(0,r.useCallback)((function(){e.nsfw&&""===n&&t?t():o.playPauseTrack(e)}),[e,o,n,t])}}},63651:function(e,t,n){n.d(t,{p:function(){return r}});var r=function(e){var t=Math.round(e),n=Math.floor(t/3600),r=Math.floor((t-3600*n)/60),o=String(t%60).padStart(2,"0");if(n){var a=String(r).padStart(2,"0");return"".concat(n,":").concat(a,":").concat(o)}return"".concat(r,":").concat(o)}},73182:function(e,t,n){n.d(t,{br:function(){return h},s0:function(){return g},z3:function(){return p}});var r=n(38823),o=n(38597),a=n(60374),i=n(16031),l=n(41027),c=n(12580),u=n(47430),s=n(18172),d=n(67294),f=function(e,t,n,r){return new(n||(n=Promise))((function(o,a){function i(e){try{c(r.next(e))}catch(e){a(e)}}function l(e){try{c(r.throw(e))}catch(e){a(e)}}function c(e){var t;e.done?o(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(i,l)}c((r=r.apply(e,t||[])).next())}))},m=function(e,t){var n,r,o,a,i={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return a={next:l(0),throw:l(1),return:l(2)},"function"==typeof Symbol&&(a[Symbol.iterator]=function(){return this}),a;function l(a){return function(l){return function(a){if(n)throw new TypeError("Generator is already executing.");for(;i;)try{if(n=1,r&&(o=2&a[0]?r.return:a[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,a[1])).done)return o;switch(r=0,o&&(a=[2&a[0],o.value]),a[0]){case 0:case 1:o=a;break;case 4:return i.label++,{value:a[1],done:!1};case 5:i.label++,r=a[1],a=[0];continue;case 7:a=i.ops.pop(),i.trys.pop();continue;default:if(!(o=i.trys,(o=o.length>0&&o[o.length-1])||6!==a[0]&&2!==a[0])){i=0;continue}if(3===a[0]&&(!o||a[1]>o[0]&&a[1]<o[3])){i.label=a[1];break}if(6===a[0]&&i.label<o[1]){i.label=o[1],o=a;break}if(o&&i.label<o[2]){i.label=o[2],i.ops.push(a);break}o[2]&&i.ops.pop(),i.trys.pop();continue}a=t.call(e,i)}catch(e){a=[6,e],r=0}finally{n=o=0}if(5&a[0])throw a[1];return{value:a[0]?a[1]:void 0,done:!0}}([a,l])}}},p=(0,r.ZP)((0,o.XR)((function(){return{mediaId:void 0,mediaType:void 0,collections:[],filter:"",newCollectionName:"",newCollectionVisibility:"private",addingCollection:!1}})));p.subscribe((function(e){return{mediaId:e.mediaId,mediaType:e.mediaType,collected:e.collections.some((function(e){return e.containsItem}))}}),(function(e){var t=e.mediaId,n=e.mediaType,r=e.collected,o=p.getState().responder;o&&t&&n&&o(t,n,r)}),{equalityFn:a.Z});var v=function(){function e(e){var t=this;this.setMedia=function(e,t){p.setState((0,s.Uy)((function(n){n.id=e,n.mediaType=t})))},this.clearMedia=function(){p.setState((0,s.Uy)((function(e){e.id=void 0,e.mediaType=void 0})))},this.toggleCollected=function(e){return f(t,void 0,void 0,(function(){var t,n,r,o;return m(this,(function(a){switch(a.label){case 0:if(!(t=p.getState()).mediaType||!t.mediaId)throw new Error("Collections store has not been initialised");return(n=k(t.collections,e))?(r=n.containsItem?"remove":"add",p.setState((0,s.Uy)((function(t){var n=k(t.collections,e);n&&(n.containsItem?(n.containsItem=!1,n.itemCount--):(n.containsItem=!0,n.itemCount++))}))),[4,this.updateCollected(r,e,t.mediaType,t.mediaId)]):[2];case 1:return o=a.sent(),this.updateCollectionBackground(e,o),[2]}}))}))},this.removeFromCollection=function(e,n,r){return f(t,void 0,void 0,(function(){return m(this,(function(t){switch(t.label){case 0:return[4,this.updateCollected("remove",r,n,e)];case 1:return t.sent(),[2]}}))}))},this.addNewCollection=function(){return f(t,void 0,void 0,(function(){var e,t,n;return m(this,(function(r){switch(r.label){case 0:if(!(e=p.getState()).mediaId||!e.mediaType)throw new Error("Collections store has not been initialised");return[4,this.createCollection(e.mediaId,e.mediaType,this.lang,e.newCollectionName,e.newCollectionVisibility)];case 1:return t=r.sent(),p.setState((0,s.Uy)((function(e){e.collections.unshift(t),e.newCollectionName="",e.newCollectionVisibility="private",e.addingCollection=!1}))),[4,this.fetchCollections(e.mediaType,e.mediaId)];case 2:return n=r.sent(),p.setState((0,s.Uy)((function(e){e.collections=n}))),[2]}}))}))},this.updateFilter=function(e){p.setState((0,s.Uy)((function(t){t.filter=e})))},this.clearFilter=function(){p.setState((0,s.Uy)((function(e){e.filter=""})))},this.setNewCollectionName=function(e){p.setState((0,s.Uy)((function(t){t.newCollectionName=e})))},this.setNewCollectionVisibility=function(e){p.setState((0,s.Uy)((function(t){t.newCollectionVisibility=e})))},this.setAddingCollection=function(e){p.setState((0,s.Uy)((function(t){t.addingCollection=e})))},this.refreshCollections=function(){return f(t,void 0,void 0,(function(){var e,t;return m(this,(function(n){switch(n.label){case 0:if(!(e=p.getState()).mediaId||!e.mediaType)throw new Error("Collections store has not been initialised");return[4,this.fetchCollections(e.mediaType,e.mediaId)];case 1:return t=n.sent(),p.setState((0,s.Uy)((function(e){e.collections=t}))),[2]}}))}))},this.fetchCollections=function(e,n){return f(t,void 0,void 0,(function(){var t;return m(this,(function(r){switch(r.label){case 0:return t=l.nB.collectionsList({lang:this.lang,mediaType:e,mediaId:n}),[4,(0,c.rv)().post(t,{})];case 1:return[2,r.sent().collections]}}))}))},this.updateCollected=function(e,n,r,o){return f(t,void 0,void 0,(function(){var t,a,i,u;return m(this,(function(s){switch(s.label){case 0:return t=(0,c.rv)(),a="add"===e?l.nB.collectionsAddToCollection:l.nB.collectionsRemoveFromCollection,i=a({lang:this.lang,collectionId:n,mediaType:r,mediaId:o}),[4,t.post(i,{})];case 1:if((u=s.sent())instanceof Array)return[2,u[1]];throw new Error(u.error)}}))}))},this.createCollection=function(e,n,r,o,a){return f(t,void 0,void 0,(function(){var t;return m(this,(function(u){switch(u.label){case 0:return t=l.nB.collectionsCreateCollection({lang:r,mediaType:n,mediaId:e}),[4,(0,c.rv)().post(t,{title:o,status:i.x[a],no_auto_remove:!0})];case 1:return[2,u.sent()]}}))}))},this.lang=e}return e.prototype.updateCollectionBackground=function(e,t){p.setState((0,s.Uy)((function(n){var r=k(n.collections,e);r&&(r.bgImageSrc=t)})))},e}();function h(e){return(0,u.A)((function(){return new v(e)})).current}function k(e,t){return e.find((function(e){return e.id===t}))}function g(e){(0,d.useEffect)((function(){p.setState({responder:e})}),[e])}},16031:function(e,t,n){var r;n.d(t,{x:function(){return r}}),function(e){e[e.private=0]="private",e[e.public=1]="public",e[e.download=2]="download"}(r||(r={}))},17375:function(e,t,n){n.d(t,{b:function(){return s}});var r=n(67294),o=n(73182),a=n(6494),i=function(){return(i=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e}).apply(this,arguments)},l=function(e,t,n,r){return new(n||(n=Promise))((function(o,a){function i(e){try{c(r.next(e))}catch(e){a(e)}}function l(e){try{c(r.throw(e))}catch(e){a(e)}}function c(e){var t;e.done?o(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(i,l)}c((r=r.apply(e,t||[])).next())}))},c=function(e,t){var n,r,o,a,i={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return a={next:l(0),throw:l(1),return:l(2)},"function"==typeof Symbol&&(a[Symbol.iterator]=function(){return this}),a;function l(a){return function(l){return function(a){if(n)throw new TypeError("Generator is already executing.");for(;i;)try{if(n=1,r&&(o=2&a[0]?r.return:a[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,a[1])).done)return o;switch(r=0,o&&(a=[2&a[0],o.value]),a[0]){case 0:case 1:o=a;break;case 4:return i.label++,{value:a[1],done:!1};case 5:i.label++,r=a[1],a=[0];continue;case 7:a=i.ops.pop(),i.trys.pop();continue;default:if(!(o=i.trys,(o=o.length>0&&o[o.length-1])||6!==a[0]&&2!==a[0])){i=0;continue}if(3===a[0]&&(!o||a[1]>o[0]&&a[1]<o[3])){i.label=a[1];break}if(6===a[0]&&i.label<o[1]){i.label=o[1],o=a;break}if(o&&i.label<o[2]){i.label=o[2],i.ops.push(a);break}o[2]&&i.ops.pop(),i.trys.pop();continue}a=t.call(e,i)}catch(e){a=[6,e],r=0}finally{n=o=0}if(5&a[0])throw a[1];return{value:a[0]?a[1]:void 0,done:!0}}([a,l])}}};function u(e,t){o.z3.setState((function(n){return i(i({},n),{mediaId:e,mediaType:t})}))}function s(){var e=this,t=(0,a.p)().language,n=(0,o.br)(t);return{showCollectionsModal:u,removeFromCollection:(0,r.useCallback)((function(t,r,o){return l(e,void 0,void 0,(function(){return c(this,(function(e){switch(e.label){case 0:return[4,n.removeFromCollection(t,r,o)];case 1:return e.sent(),[2]}}))}))}),[n])}}},10499:function(e,t,n){n.d(t,{o:function(){return c}});var r=n(67294),o=n(17375),a=n(50930),i=n(6494),l=n(16353),c=function(e,t){var n=(0,i.p)().user,c=(0,a.E)().showSignup,u=(0,o.b)().showCollectionsModal,s=e.href,d=e.mediaType,f=e.mediaDescriptiveType,m=e.id,p=e.user.id;return(0,r.useCallback)((function(e){e.preventDefault(),e.stopPropagation(),n?(u(m,d),l._q.mediaCollectClick(m.toString(),d,t),l._q.mediaInteracted("collected",m,d,f,p)):c((function(e){e&&(window.location.href=s)}),"upload")}),[n,c,s,u,m,d,t,f,p])}},30397:function(e,t,n){n.d(t,{Ru:function(){return d},Vz:function(){return f}});var r=n(67294),o=n(83268),a=n(47430),i=n(18172),l=n(25244);var c=function(e){var t=this;this.setLikeCount=function(e,n,r){t.storeHook.setState((0,i.ZP)((function(t){t.likeCounts[n][e]=r})))},this.storeHook=e};var u=n(80398),s=Symbol("likeCount"),d=(0,r.memo)((function(){var e=(0,l.d$)((function(e,t){return{likeCounts:{animation:{},audio:{},photo:{},video:{},collection:{}}}}),"LikeCountStore"),t=function(e){return(0,a.A)((function(){return new c(e)})).current}(e);return(0,o.s)(s,(function(){return{useStore:e,setLikeCount:t.setLikeCount}})),null}));function f(){return(0,u.G)(s)}},9108:function(e,t,n){n.d(t,{o:function(){return h},y:function(){return v}});var r=n(67294),o=n(6494),a=n(41027),i=n(12580),l=n(24649),c=n(50930),u=n(37267),s=n(16353),d=function(e,t,n,r){return new(n||(n=Promise))((function(o,a){function i(e){try{c(r.next(e))}catch(e){a(e)}}function l(e){try{c(r.throw(e))}catch(e){a(e)}}function c(e){var t;e.done?o(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(i,l)}c((r=r.apply(e,t||[])).next())}))},f=function(e,t){var n,r,o,a,i={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return a={next:l(0),throw:l(1),return:l(2)},"function"==typeof Symbol&&(a[Symbol.iterator]=function(){return this}),a;function l(a){return function(l){return function(a){if(n)throw new TypeError("Generator is already executing.");for(;i;)try{if(n=1,r&&(o=2&a[0]?r.return:a[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,a[1])).done)return o;switch(r=0,o&&(a=[2&a[0],o.value]),a[0]){case 0:case 1:o=a;break;case 4:return i.label++,{value:a[1],done:!1};case 5:i.label++,r=a[1],a=[0];continue;case 7:a=i.ops.pop(),i.trys.pop();continue;default:if(!(o=i.trys,(o=o.length>0&&o[o.length-1])||6!==a[0]&&2!==a[0])){i=0;continue}if(3===a[0]&&(!o||a[1]>o[0]&&a[1]<o[3])){i.label=a[1];break}if(6===a[0]&&i.label<o[1]){i.label=o[1],o=a;break}if(o&&i.label<o[2]){i.label=o[2],i.ops.push(a);break}o[2]&&i.ops.pop(),i.trys.pop();continue}a=t.call(e,i)}catch(e){a=[6,e],r=0}finally{n=o=0}if(5&a[0])throw a[1];return{value:a[0]?a[1]:void 0,done:!0}}([a,l])}}};function m(e,t,n){return d(this,void 0,void 0,(function(){var r,o,c;return f(this,(function(u){switch(u.label){case 0:r=(0,i.rv)(),o=(0,l.Yr)((function(){switch(t){case"photo":return a.nB.photoLike({lang:e,id:n});case"video":return a.nB.videoLike({lang:e,id:n});case"audio":return a.nB.musicLike({lang:e,id:n});case"animation":return a.nB.gifsLike({lang:e,id:n});case"collection":return a.nB.collectionLike({lang:e,id:n});default:throw new Error("Invalid media type")}})),u.label=1;case 1:return u.trys.push([1,3,,4]),[4,r.post(o,{})];case 2:return"complete"!==(c=u.sent()).status?[2,!1]:[2,!!c.liked];case 3:return u.sent(),[2,!1];case 4:return[2]}}))}))}var p=function(){var e=(0,o.p)().language,t=(0,c.E)().showSignup,n=(0,u.a)(),a=n.user,i=n.setMediaIsLiked,l=n.isMediaLiked,d=(0,r.useCallback)((function(e){return new Promise((function(n,r){if(a)n(e());else try{t((function(){n(e())}),"engage")}catch(e){r(e)}}))}),[t,a]);return{toggleMediaLike:(0,r.useCallback)((function(t,n){var r=t.id,o=t.mediaType;return d((function(){return i(r,o,!l(r,o)),s._q.mediaLikeClick(r.toString(),o,n),m(e,o,r)})).then((function(e){return i(r,o,e),e&&s._q.mediaInteracted("liked",r,o,t.mediaDescriptiveType,t.user.id),e}))}),[l,e,d,i]),toggleCollectionLike:(0,r.useCallback)((function(t){var n="collection";return d((function(){return i(t,n,!l(t,n)),s._q.mediaLikeClick(t.toString(),n),s._q.playlistInteracted(t,"liked"),m(e,n,t)})).then((function(e){return i(t,n,e),e}))}),[l,e,d,i])}},v=function(e,t){var n=p().toggleMediaLike;return(0,r.useCallback)((function(r){return r.preventDefault(),r.stopPropagation(),n(e,t)}),[n,e,t])},h=function(e){var t=p().toggleCollectionLike;return(0,r.useCallback)((function(n){return n.preventDefault(),n.stopPropagation(),t(e)}),[e,t])}},73204:function(e,t,n){n.d(t,{A:function(){return d}});var r=n(67294),o=n(44096),a=n(35761),i=n(65915),l=n(30633),c=(0,r.memo)((function(e){var t=e.isOpen,n=e.onClose,o=e.heading,c=e.trackDetails,u=e.trackFeatures,s=e.collected,d=e.onCollect,f=e.onDownload,m=e.i18n,p=e.likeButton;return r.createElement(l.D,{className:i.Z.trackDetailsTakeover,open:t,onClose:n,size:"auto",header:r.createElement("div",{className:i.Z.header},o),buttons:r.createElement("div",{className:i.Z.actions},r.createElement(a.Oo,{active:s,kind:s?"bookmark":"bookmark-outline",onClick:d}),p,r.createElement(a.HC,{onClick:f},m.download)),footerClassName:i.Z.footer},r.createElement("div",{className:i.Z.content},r.createElement("div",{className:i.Z.trackDetails},c),r.createElement("div",{className:i.Z.trackFeatures},u)))})),u=n(17467),s=n(361),d=(0,r.memo)((function(e){var t=e.trackDetails,n=e.trackFeatures,i=e.collected,l=e.triggerClassname,d=e.onCollect,f=e.onDownload,m=e.i18n,p=e.likeButton,v=(0,r.useState)(!1),h=v[0],k=v[1],g=(0,u.oT)(),y=(0,r.useCallback)((function(){k(!1)}),[]),w=(0,r.useCallback)((function(e){e.preventDefault(),e.stopPropagation()}),[]),b=(0,r.useCallback)((function(e,t){k(!1),e(t)}),[]);return(0,r.useEffect)((function(){h?g.show({zIndex:(0,s.KK)("dropdown"),transitionDuration:500,onClick:y}):g.hide()}),[y,h,g]),r.createElement("div",{className:o.Z.trackActions,onClick:w},r.createElement(a.Oo,{className:l,theme:"ghost",kind:"dots",onClick:function(){return k(!0)}}),r.createElement(c,{isOpen:h,onClose:function(){return k(!1)},heading:m.trackDetails,trackDetails:t,trackFeatures:n,collected:i,onCollect:function(e){return b(d,e)},onDownload:function(e){return b(f,e)},i18n:m,likeButton:p}))}))},89843:function(e,t,n){n.d(t,{z:function(){return c}});var r=n(67294),o=n(34316),a=n(51499),i=n(94184),l=n.n(i),c=(0,r.memo)((function(e){var t,n=e.playing,i=e.thumbnail,c=e.name,u=e.href,s=e.username,d=e.profileUrl,f=e.duration,m=e.nsfw,p=e.explicitTooltip,v=e.showDuration;return r.createElement("div",{className:o.Z.trackDetails},i,r.createElement("div",{className:o.Z.details},r.createElement("div",{className:o.Z.nameRow},r.createElement("a",{href:u,onClick:function(e){return e.stopPropagation()},target:"_blank",className:l()(o.Z.title,(t={},t[o.Z.playing]=n,t))},c),m&&r.createElement(a.u,{triggerWrapperClassName:o.Z.explicitTooltip,content:p,placement:"bottom",showArrow:!1,small:!0},r.createElement("span",null,"E"))),r.createElement("div",{className:o.Z.authorRow},r.createElement("a",{href:d,onClick:function(e){return e.stopPropagation()},target:"_blank",className:o.Z.username},s),!!v&&r.createElement(r.Fragment,null,r.createElement("span",{className:o.Z.divider}),r.createElement("span",null,f)))))}))},18806:function(e,t,n){n.d(t,{d:function(){return l}});var r=n(67294),o=n(31943),a=n(51499),i=n(13212),l=(0,r.memo)((function(e){var t=e.duration,n=e.contentIdRegistered,l=e.mediaQualityStatusIcon,c=e.i18n;return r.createElement("div",{className:o.Z.trackFeaturesMobile},l&&r.createElement("div",{className:o.Z.icon},l),n&&r.createElement(r.Fragment,null,r.createElement(i.J,{kind:"shield",className:o.Z.icon}),r.createElement("div",{className:o.Z.contentIdText},c.contentIdRegistered),r.createElement(a.u,{placement:"bottom",interactive:!0,content:r.createElement("span",{dangerouslySetInnerHTML:{__html:c.contentIdTooltip}}),showArrow:!1,small:!0},r.createElement(i.J,{className:o.Z.icon,kind:"question"}))),r.createElement("div",{className:o.Z.duration},r.createElement(i.J,{kind:"clock",className:o.Z.icon}),r.createElement("span",null,t)))}))},93937:function(e,t,n){n.d(t,{x:function(){return s}});var r=n(67294),o=n(532),a=n(13212),i=n(59584),l=n(94184),c=n.n(l),u=n(70678),s=r.memo((function(e){var t=e.status,n=e.theme,l=void 0===n?"light":n,s=e.className,d=e.onClick,f=e.i18n,m=(0,i.Yr)((function(){switch(t){case"playing":return r.createElement(a.J,{kind:"pause"});case"paused":return r.createElement(a.J,{kind:"play"});case"loading":return r.createElement(a.J,{kind:"pause"});default:return r.createElement(a.J,{kind:"play"})}}));return r.createElement("button",{className:c()(o.Z.container,o.Z[l],o.Z[t],(0,u.Wb)("e2e-audio-play-pause"),s),"aria-label":f[t],onClick:function(e){return d(e)}},m,"loading"===t&&r.createElement("div",{className:o.Z.spinCircle}))}))},3332:function(e,t,n){n.d(t,{Q:function(){return v}});var r=n(67294),o=n(32494),a=n(47430),i=n.p+"dd3878c670305acaf8bc.gif",l=n(94184),c=n.n(l),u=n(40242),s=(0,r.memo)((function(e){var t=e.progressAmount,n=e.bars,l=e.showHoverBackground,s=void 0===l||l,d=e.theme,f=void 0===d?"light":d,m=e.i18n,p=e.onAudioSeek,v=(0,r.useRef)(null),h=(0,r.useRef)(null),k=(0,r.useRef)(null),g=(0,r.useRef)(null),y=(0,r.useState)(!1),w=y[0],b=y[1],C=(0,r.useState)(0),E=C[0],S=C[1],T=(0,r.useId)(),A=(0,a.A)((function(){if("undefined"!=typeof window){var e=new Image(1,1);return e.src=i,e}})),I=(0,r.useCallback)((function(e){var t,n=null===(t=v.current)||void 0===t?void 0:t.getBoundingClientRect().width;return n?e/n*u.hu:0}),[]),N=(0,r.useCallback)((function(e){var t,n=null===(t=v.current)||void 0===t?void 0:t.getBoundingClientRect().width;return n?e/n:0}),[]),P=(0,r.useCallback)((function(e){var t,n;null===(t=k.current)||void 0===t||t.setAttribute("width",e.toString()),null===(n=g.current)||void 0===n||n.setAttribute("width",I(e).toString())}),[I]),Z=(0,r.useCallback)((function(e){var t=e.nativeEvent.offsetX;p(N(t))}),[N,p]),O=(0,r.useCallback)((function(e){var t=e.nativeEvent.offsetX;P(t)}),[P]),x=(0,r.useCallback)((function(){P(0)}),[P]),L=(0,r.useCallback)((function(e){var t;A.current&&(null===(t=e.nativeEvent.dataTransfer)||void 0===t||t.setDragImage(A.current,1,1)),b(!0)}),[A]),M=(0,r.useCallback)((function(e){if(!(e.nativeEvent.x<=0&&e.nativeEvent.y<=0)){var t=e.nativeEvent.offsetX>0?e.nativeEvent.offsetX:0,n=I(t);S(n),P(t)}}),[I,P]),B=(0,r.useCallback)((function(e){var t=e.nativeEvent.offsetX>0?e.nativeEvent.offsetX:0;b(!1),p(N(t))}),[N,p]),H=(0,r.useCallback)((function(){b(!0)}),[]),D=(0,r.useCallback)((function(e){var t=e.touches[0].pageX-e.currentTarget.getBoundingClientRect().left;S(I(t)),P(t)}),[I,P]),U=(0,r.useCallback)((function(e){var t=e.changedTouches[0].pageX-e.currentTarget.getBoundingClientRect().left;b(!1),p(N(t))}),[N,p]);return r.createElement("div",{className:c()(o.Z.container,o.Z[f]),"aria-label":null==m?void 0:m.ariaLabel,"aria-valuemin":0,"aria-valuemax":1,"aria-valuenow":t,role:"slider",draggable:!0,onClick:Z,onMouseOver:O,onMouseMove:O,onMouseOut:x,onDragStart:L,onDrag:M,onDragEnd:B,onTouchStart:H,onTouchMove:D,onTouchEnd:U},r.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",width:"100%",height:"100%",ref:v},r.createElement("svg",{className:o.Z.hoverBackground,ref:k,width:"0",height:"100%"},s&&r.createElement("rect",{width:"100%",height:"100%"}),r.createElement("line",{strokeWidth:"2",strokeLinecap:"round",x1:"100%",x2:"100%",y1:"0",y2:"100%"})),r.createElement("svg",{viewBox:"0 0 ".concat(u.hu," ").concat(u.pX),width:"100%",height:"50%",x:"0",y:"25%",preserveAspectRatio:"none"},r.createElement("defs",null,r.createElement("clipPath",{id:T},r.createElement("path",{d:"M".concat(n,"Z"),strokeWidth:"0"}))),r.createElement("g",{clipPath:"url(#".concat(T,")")},r.createElement("rect",{className:o.Z.trackBar,width:"100%",height:"100%"}),r.createElement("rect",{className:o.Z.hoverBar,ref:g,width:"0",height:"100%"}),r.createElement("rect",{className:o.Z.progressBar,ref:h,width:w?E:t*u.hu,height:"100%"})))))})),d=n(12580),f=function(){return(f=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e}).apply(this,arguments)},m=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var o=0;for(r=Object.getOwnPropertySymbols(e);o<r.length;o++)t.indexOf(r[o])<0&&Object.prototype.propertyIsEnumerable.call(e,r[o])&&(n[r[o]]=e[r[o]])}return n},p="0 14L370 14L370 16L0 16",v=(0,r.memo)((function(e){var t=e.waveformUrl,n=m(e,["waveformUrl"]),o=(0,r.useState)(p),a=o[0],i=o[1];return(0,r.useEffect)((function(){t?(0,d.rv)().get(t).then((function(e){i(e||p)})).catch((function(e){i(p)})):i(p)}),[t]),r.createElement(s,f({bars:a},n))}))},19636:function(e,t,n){n.d(t,{d:function(){return c}});var r=n(67294),o=n(35761),a=n(94184),i=n.n(a),l=n(70678),c=(0,r.memo)((function(e){var t=e.isLiked,n=e.likeCount,a=void 0===n?0:n,c=e.theme,u=e.label,s=e.className,d=e.onLikeClicked;return r.createElement(o.YC,{className:i()(s,(0,l.Wb)("e2e-like-button")),theme:c,kind:t?"heart":"heart-outline",active:t,"aria-label":u,onClick:function(e){return d(e,a,t)}},a.toLocaleString())}))},34560:function(e,t,n){n.d(t,{t:function(){return l}});var r=n(67294),o=n(30397),a=function(e,t,n,r){return new(n||(n=Promise))((function(o,a){function i(e){try{c(r.next(e))}catch(e){a(e)}}function l(e){try{c(r.throw(e))}catch(e){a(e)}}function c(e){var t;e.done?o(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(i,l)}c((r=r.apply(e,t||[])).next())}))},i=function(e,t){var n,r,o,a,i={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return a={next:l(0),throw:l(1),return:l(2)},"function"==typeof Symbol&&(a[Symbol.iterator]=function(){return this}),a;function l(a){return function(l){return function(a){if(n)throw new TypeError("Generator is already executing.");for(;i;)try{if(n=1,r&&(o=2&a[0]?r.return:a[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,a[1])).done)return o;switch(r=0,o&&(a=[2&a[0],o.value]),a[0]){case 0:case 1:o=a;break;case 4:return i.label++,{value:a[1],done:!1};case 5:i.label++,r=a[1],a=[0];continue;case 7:a=i.ops.pop(),i.trys.pop();continue;default:if(!(o=i.trys,(o=o.length>0&&o[o.length-1])||6!==a[0]&&2!==a[0])){i=0;continue}if(3===a[0]&&(!o||a[1]>o[0]&&a[1]<o[3])){i.label=a[1];break}if(6===a[0]&&i.label<o[1]){i.label=o[1],o=a;break}if(o&&i.label<o[2]){i.label=o[2],i.ops.push(a);break}o[2]&&i.ops.pop(),i.trys.pop();continue}a=t.call(e,i)}catch(e){a=[6,e],r=0}finally{n=o=0}if(5&a[0])throw a[1];return{value:a[0]?a[1]:void 0,done:!0}}([a,l])}}};function l(e,t,n,l){var c=this,u=(0,o.Vz)(),s=u.useStore,d=u.setLikeCount,f=s((function(n){return n.likeCounts[t][e]}));return{likeCount:void 0===f?n:f,onLikeClick:(0,r.useCallback)((function(n,r,o){return a(c,void 0,void 0,(function(){var a;return i(this,(function(i){switch(i.label){case 0:return[4,l(n)];case 1:return(a=i.sent())!==o&&d(e,t,r+(a?1:-1)),[2]}}))}))}),[l,e,t,d])}}},39008:function(e,t,n){n.d(t,{T:function(){return o},Y:function(){return a}});var r=n(20876);function o(e){return e.qualityStatus===r.XU.approvedFeatured?e.isEditorsChoice?"editorsChoice":e.isLowQuality?"featured":"outstanding":e.qualityStatus===r.XU.approvedUnlisted?"published":"rejected"}var a=function(e,t){switch(void 0===t&&(t=!1),e){case"editorsChoice":return t?"editors-choice-filled":"editors-choice";case"outstanding":return"outstanding";case"featured":return"featured";default:return}}},57430:function(e,t,n){n.d(t,{$:function(){return f}});var r=n(67294),o=n(39008),a=n(15515),i=n(94184),l=n.n(i),c=n(13212),u=n(51499),s=(0,r.memo)((function(e){var t=e.mediaQualityStatus,n=e.mediaStatusTooltip,i=e.theme,s=void 0===i?"dark":i,d=e.placement,f=e.small,m=e.showArrow,p=e.className,v=(0,o.Y)(t);return v?r.createElement(u.u,{content:n,placement:d,showArrow:m,small:f},r.createElement(c.J,{kind:v,className:l()(a.Z.icon,a.Z[s],a.Z[v],p)})):null})),d=n(77497),f=(0,r.memo)((function(e){var t=e.mediaItem,n=e.isContributorOfMedia,a=e.placement,i=e.small,l=e.showArrow,c=e.theme,u=e.className,f=(0,o.T)(t),m=r.createElement(d.R,{mediaQualityStatus:f,isContributorOfMedia:n});return r.createElement(s,{mediaQualityStatus:f,mediaStatusTooltip:m,placement:a,small:i,showArrow:l,theme:c,className:u})}))},77497:function(e,t,n){n.d(t,{R:function(){return c}});var r=n(67294),o=n(76346),a=(0,r.memo)((function(e){var t=e.mediaQualityStatus,n=e.isContributorOfMedia,a=e.i18nLabels,i=e.i18nContributorDescriptions;return"rejected"===t?null:r.createElement("div",{className:o.Z.container},a[t],n&&r.createElement(r.Fragment,null,r.createElement("br",null),i[t]))})),i=n(82399),l=n(47430),c=(0,r.memo)((function(e){var t=e.mediaQualityStatus,n=e.isContributorOfMedia,o=(0,i.Q)().translator.translate,c=(0,l.T)((function(){return{editorsChoice:o("Editor's Choice")(),outstanding:o("Outstanding")(),featured:o("Featured")(),published:o("Published")()}})),u=(0,l.T)((function(){return{editorsChoice:o("Selected by Pixabay to appear on the homepage")(),outstanding:o("Appears in your profile and highlighted in Pixabay search")(),featured:o("Appears in your profile and in Pixabay search")(),published:o("Only appears in your profile")()}}));return r.createElement(a,{mediaQualityStatus:t,isContributorOfMedia:n,i18nLabels:c,i18nContributorDescriptions:u})}))},61149:function(e,t,n){n.d(t,{q:function(){return h}});var r=n(67294),o=n(6494),a=n(41027),i="merger_notice",l=n(16353),c=n(59584),u=n(47430),s=n(82399),d=n(72110),f=n(13212),m=n(94184),p=n.n(m),v=(0,r.memo)((function(e){var t=e.className,n=e.i18n,o=e.onDismiss;return r.createElement("div",{className:p()(d.Z.container,t)},r.createElement("div",{className:d.Z.content},r.createElement("div",{className:d.Z.text,dangerouslySetInnerHTML:{__html:n.noticeHtml}})),r.createElement("button",{className:d.Z.closeButton,onClick:o},r.createElement(f.J,{kind:"close"})))})),h=(0,r.memo)((function(e){var t=e.className,n=(0,o.p)((function(e){return(0,c.ei)(e,"language","featureFlags")})),d=n.language,f=n.featureFlags,m=(0,s.Q)().translator.translate,p=(0,r.useState)(!1),h=p[0],k=p[1],g=(0,u.T)((function(){return{noticeHtml:m('Pixabay is now operated as part of Canva Germany GmbH. We have updated our <a href="%(terms)s" target="_blank">Terms of Service</a> and <a href="%(privacy)s" target="_blank">Privacy Policy</a>. Learn more <a href="%(more)s" target="_blank">here</a>.')({terms:a.nB.terms({lang:d}),privacy:a.nB.privacy({lang:d}),more:a.Ag.mergerNotice(d)})}}));(0,r.useEffect)((function(){var e=window.localStorage.getItem(i);f.showMergerNotice&&!e&&(k(!0),l._q.mergerNoticeViewed(),window.localStorage.setItem(i,Date.now().toString()))}),[f.showMergerNotice,k]);var y=(0,r.useCallback)((function(){return k(!1)}),[k]);return h?r.createElement(v,{className:t,i18n:g,onDismiss:y}):null}))},71400:function(e,t,n){n.d(t,{O:function(){return u}});var r=n(67294),o=n(94184),a=n.n(o),i=n(35818),l=function(){return(l=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e}).apply(this,arguments)},c=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var o=0;for(r=Object.getOwnPropertySymbols(e);o<r.length;o++)t.indexOf(r[o])<0&&Object.prototype.propertyIsEnumerable.call(e,r[o])&&(n[r[o]]=e[r[o]])}return n},u=(0,r.memo)((function(e){var t,n=e.desktopOnly,o=e.children,u=e.className,s=c(e,["desktopOnly","children","className"]);return r.createElement("div",l({},s,{className:a()(i.Z.page,(t={},t[i.Z.desktopOnly]=n,t),u)}),o)}))},17467:function(e,t,n){n.d(t,{oT:function(){return l},om:function(){return a}});var r=n(38823),o=n(47430),a=(0,r.ZP)((function(){return{isShowing:!1}})),i=function(){this.show=function(e){var t=e.zIndex,n=e.className,r=e.transitionDuration,o=e.onClick;a.setState({isShowing:!0,zIndex:t,className:n,transitionDuration:r,onClick:o})},this.hide=function(){a.setState({isShowing:!1})}};function l(){return(0,o.A)((function(){return new i})).current}},74742:function(e,t,n){n.d(t,{R:function(){return u}});var r=n(67294),o=n(40242),a=n(94184),i=n.n(a),l=n(13212),c=n(88905),u=(0,r.memo)((function(e){var t,n=e.volumeAmount,a=e.i18n,u=e.className,s=e.onChange,d=e.onVolumeToggle,f=(0,r.useCallback)((function(e){s(Number(e.target.value))}),[s]);return r.createElement("div",{className:i()(c.Z.container,u)},r.createElement("button",{onClick:d,className:i()(c.Z.volumeBtn,(t={},t[c.Z.muted]=0===n,t)),"aria-label":a.volume},r.createElement(l.J,{kind:n?"volume":"mute"})),r.createElement("div",{className:c.Z.volumeBar},r.createElement("div",{className:c.Z.volumeAmount,style:{width:"".concat(n/o.Aq,"%")}}),r.createElement("input",{type:"range","aria-label":a.volume,min:o.Ak,max:o.wT,step:o.Aq,value:n,onChange:f})))}))},29565:function(e,t,n){n.d(t,{e9:function(){return r},yl:function(){return o}});!function(){function e(){}e.photo=0,e.video=1,e.audio=2,e.animation=3}();var r=function(){function e(){}return e.photo="p",e.video="v",e.audio="a",e.animation="g",e.collection="c",e}(),o=(function(){function e(){}e.contributorId="contributor_id",e.mediaId="media_id",e.mediaType="media_type",e.tag="tag"}(),function(){function e(){}return e.collection=0,e.playlist=1,e}())},69274:function(e,t,n){n.d(t,{v:function(){return p}});var r=n(60374),o=n(67294),a=n(84939);var i=n(6494),l=n(41027),c=n(16353),u=n(12580),s=n(8060),d=n(82315),f=function(e,t,n,r){return new(n||(n=Promise))((function(o,a){function i(e){try{c(r.next(e))}catch(e){a(e)}}function l(e){try{c(r.throw(e))}catch(e){a(e)}}function c(e){var t;e.done?o(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(i,l)}c((r=r.apply(e,t||[])).next())}))},m=function(e,t){var n,r,o,a,i={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return a={next:l(0),throw:l(1),return:l(2)},"function"==typeof Symbol&&(a[Symbol.iterator]=function(){return this}),a;function l(a){return function(l){return function(a){if(n)throw new TypeError("Generator is already executing.");for(;i;)try{if(n=1,r&&(o=2&a[0]?r.return:a[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,a[1])).done)return o;switch(r=0,o&&(a=[2&a[0],o.value]),a[0]){case 0:case 1:o=a;break;case 4:return i.label++,{value:a[1],done:!1};case 5:i.label++,r=a[1],a=[0];continue;case 7:a=i.ops.pop(),i.trys.pop();continue;default:if(!(o=i.trys,(o=o.length>0&&o[o.length-1])||6!==a[0]&&2!==a[0])){i=0;continue}if(3===a[0]&&(!o||a[1]>o[0]&&a[1]<o[3])){i.label=a[1];break}if(6===a[0]&&i.label<o[1]){i.label=o[1],o=a;break}if(o&&i.label<o[2]){i.label=o[2],i.ops.push(a);break}o[2]&&i.ops.pop(),i.trys.pop();continue}a=t.call(e,i)}catch(e){a=[6,e],r=0}finally{n=o=0}if(5&a[0])throw a[1];return{value:a[0]?a[1]:void 0,done:!0}}([a,l])}}},p=function(e,t,p){var v=(0,i.p)((function(e){return{language:e.language,recaptchaSiteKey:e.serviceCredentials.recaptchaSiteKey,isApp:e.userAgent.isApp}}),r.Z),h=v.language,k=v.recaptchaSiteKey,g=v.isApp,y=(0,a.Im)().showAttributionForMediaListItem;return(0,o.useCallback)((function(r){return f(void 0,void 0,void 0,(function(){var o,a,i,f;return m(this,(function(m){switch(m.label){case 0:return r&&(r.preventDefault(),r.stopPropagation()),[4,(0,s.iT)(k)()];case 1:return o=m.sent(),"audio"===e.mediaType&&(a=(0,u.rv)(),i=l.nB.musicIncrementDownloads({lang:h,trackId:e.id}),a.post(i,{"g-recaptcha-response":o},void 0,void 0,"plain")),f=(0,d.rH)(t,{"g-recaptcha-response":o,remote_template:"1"}),g?Promise.resolve().then(n.bind(n,34444)).then((function(t){t.appDownloader.handleAppDownload(f),c._q.downloadCompletion(e.mediaDescriptiveType,e.id,p),c._q.mediaDownloaded(e.mediaType,e.mediaDescriptiveType,e.id,e.user.id)})):(window.location.href=f,c._q.downloadCompletion(e.mediaDescriptiveType,e.id,p),c._q.mediaDownloaded(e.mediaType,e.mediaDescriptiveType,e.id,e.user.id)),y(e),[2]}}))}))}),[k,e,t,g,y,h,p])}}}]);
